{"ast":null,"code":"import _toConsumableArray from \"/Users/DileepKumar/Desktop/react-hook-form-array-fields/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/Users/DileepKumar/Desktop/react-hook-form-array-fields/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/DileepKumar/Desktop/react-hook-form-array-fields/src/index.js\";\nimport React, { useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport useForm from 'react-hook-form';\nimport './styles.css';\n\nfunction App() {\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      indexes = _React$useState2[0],\n      setIndexes = _React$useState2[1];\n\n  var _React$useState3 = React.useState(0),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      counter = _React$useState4[0],\n      setCounter = _React$useState4[1];\n\n  var _useForm = useForm(),\n      register = _useForm.register,\n      handleSubmit = _useForm.handleSubmit;\n\n  var onSubmit = function onSubmit(data) {\n    console.log(data);\n  };\n\n  var addFriend = function addFriend() {\n    setIndexes(function (prevIndexes) {\n      return [].concat(_toConsumableArray(prevIndexes), [counter]);\n    });\n    setCounter(function (prevCounter) {\n      return prevCounter + 1;\n    });\n  };\n\n  var removeFriend = function removeFriend(index) {\n    return function () {\n      setIndexes(function (prevIndexes) {\n        return _toConsumableArray(prevIndexes.filter(function (item) {\n          return item !== index;\n        }));\n      });\n      setCounter(function (prevCounter) {\n        return prevCounter - 1;\n      });\n    };\n  };\n\n  var clearFriends = function clearFriends() {\n    setIndexes([]);\n  };\n\n  return React.createElement(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31\n    },\n    __self: this\n  }, indexes.map(function (index) {\n    var fieldName = \"friends[\".concat(index, \"]\");\n    return React.createElement(\"fieldset\", {\n      name: fieldName,\n      key: fieldName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 36\n      },\n      __self: this\n    }, \"First Name \", index, \":\", React.createElement(\"input\", {\n      type: \"text\",\n      name: \"\".concat(fieldName, \".firstName\"),\n      ref: register,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38\n      },\n      __self: this\n    })), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, \"Last Name \", index, \":\", React.createElement(\"input\", {\n      type: \"text\",\n      name: \"\".concat(fieldName, \".lastName\"),\n      ref: register,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 43\n      },\n      __self: this\n    })), React.createElement(\"button\", {\n      type: \"button\",\n      onClick: removeFriend(index),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, \"Remove\"));\n  }), React.createElement(\"button\", {\n    type: \"button\",\n    onClick: addFriend,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  }, \"Add Friend\"), React.createElement(\"button\", {\n    type: \"button\",\n    onClick: clearFriends,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \"Clear Friends\"), React.createElement(\"input\", {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    },\n    __self: this\n  }));\n}\n\nvar rootElement = document.getElementById('root');\nReactDOM.render(React.createElement(App, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 64\n  },\n  __self: this\n}), rootElement);","map":{"version":3,"sources":["/Users/DileepKumar/Desktop/react-hook-form-array-fields/src/index.js"],"names":["React","useEffect","ReactDOM","useForm","App","useState","indexes","setIndexes","counter","setCounter","register","handleSubmit","onSubmit","data","console","log","addFriend","prevIndexes","prevCounter","removeFriend","index","filter","item","clearFriends","map","fieldName","rootElement","document","getElementById","render"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport useForm from 'react-hook-form';\n\nimport './styles.css';\n\nfunction App() {\n  const [indexes, setIndexes] = React.useState([]);\n  const [counter, setCounter] = React.useState(0);\n  const { register, handleSubmit } = useForm();\n\n  const onSubmit = data => {\n    console.log(data);\n  };\n\n  const addFriend = () => {\n    setIndexes(prevIndexes => [...prevIndexes, counter]);\n    setCounter(prevCounter => prevCounter + 1);\n  };\n\n  const removeFriend = index => () => {\n    setIndexes(prevIndexes => [...prevIndexes.filter(item => item !== index)]);\n    setCounter(prevCounter => prevCounter - 1);\n  };\n\n  const clearFriends = () => {\n    setIndexes([]);\n  };\n\n  return (\n    <form onSubmit={handleSubmit(onSubmit)}>\n      {indexes.map(index => {\n        const fieldName = `friends[${index}]`;\n        return (\n          <fieldset name={fieldName} key={fieldName}>\n            <label>\n              First Name {index}:\n              <input type=\"text\" name={`${fieldName}.firstName`} ref={register} />\n            </label>\n\n            <label>\n              Last Name {index}:\n              <input type=\"text\" name={`${fieldName}.lastName`} ref={register} />\n            </label>\n            <button type=\"button\" onClick={removeFriend(index)}>\n              Remove\n            </button>\n          </fieldset>\n        );\n      })}\n\n      <button type=\"button\" onClick={addFriend}>\n        Add Friend\n      </button>\n      <button type=\"button\" onClick={clearFriends}>\n        Clear Friends\n      </button>\n      <input type=\"submit\" />\n    </form>\n  );\n}\n\nconst rootElement = document.getElementById('root');\nReactDOM.render(<App />, rootElement);\n"]},"metadata":{},"sourceType":"module"}