{"ast":null,"code":"import _toConsumableArray from \"/Users/DileepKumar/Desktop/react-hook-form-array-fields/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";\nimport _slicedToArray from \"/Users/DileepKumar/Desktop/react-hook-form-array-fields/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/Users/DileepKumar/Desktop/react-hook-form-array-fields/src/index.js\";\nimport React, { useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport useForm from 'react-hook-form';\nimport './styles.css';\n\nfunction App() {\n  var _React$useState = React.useState([]),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      indexes = _React$useState2[0],\n      setIndexes = _React$useState2[1];\n\n  var _React$useState3 = React.useState(0),\n      _React$useState4 = _slicedToArray(_React$useState3, 2),\n      counter = _React$useState4[0],\n      setCounter = _React$useState4[1];\n\n  var _useForm = useForm(),\n      register = _useForm.register,\n      handleSubmit = _useForm.handleSubmit;\n\n  var _useForm2 = useForm({\n    mode: 'onChange'\n  }),\n      formState = _useForm2.formState;\n\n  var onSubmit = function onSubmit(data) {\n    console.log(data);\n  };\n\n  useEffect(function () {\n    addFriend();\n  }, []);\n\n  var addFriend = function addFriend() {\n    console.log(formState.getValues);\n    setIndexes(function (prevIndexes) {\n      return [].concat(_toConsumableArray(prevIndexes), [counter]);\n    });\n    setCounter(function (prevCounter) {\n      return prevCounter + 1;\n    });\n  };\n\n  var removeFriend = function removeFriend(index) {\n    return function () {\n      console.log(indexes());\n      setIndexes(function (prevIndexes) {\n        return _toConsumableArray(prevIndexes.filter(function (item) {\n          return item !== index;\n        }));\n      });\n      setCounter(function (prevCounter) {\n        return prevCounter - 1;\n      });\n    };\n  };\n\n  var clearFriends = function clearFriends() {\n    setIndexes([]);\n  };\n\n  return React.createElement(\"form\", {\n    onSubmit: handleSubmit(onSubmit),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37\n    },\n    __self: this\n  }, indexes.map(function (index) {\n    var fieldName = \"friends[\".concat(index, \"]\");\n    return React.createElement(\"fieldset\", {\n      name: fieldName,\n      key: fieldName,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 41\n      },\n      __self: this\n    }, React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 42\n      },\n      __self: this\n    }, \"First Name \", index, \":\", React.createElement(\"select\", {\n      name: \"\".concat(fieldName, \".firstName\"),\n      ref: register,\n      style: {\n        width: 200,\n        height: 45\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(\"option\", {\n      value: \"\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }), React.createElement(\"option\", {\n      value: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, \"option 1\"), React.createElement(\"option\", {\n      value: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 47\n      },\n      __self: this\n    }, \"option 2\"), React.createElement(\"option\", {\n      value: \"3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, \"option 3\"), React.createElement(\"option\", {\n      value: \"4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 49\n      },\n      __self: this\n    }, \"option 4\"))), index !== 0 && React.createElement(\"button\", {\n      type: \"button\",\n      onClick: removeFriend(index),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 59\n      },\n      __self: this\n    }, \"Remove Account\"));\n  }), React.createElement(\"button\", {\n    type: \"button\",\n    onClick: addFriend,\n    disabled: !formState.isValid,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67\n    },\n    __self: this\n  }, \"Add Friend\"), React.createElement(\"input\", {\n    type: \"submit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }));\n}\n\nvar rootElement = document.getElementById('root');\nReactDOM.render(React.createElement(App, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 79\n  },\n  __self: this\n}), rootElement);","map":{"version":3,"sources":["/Users/DileepKumar/Desktop/react-hook-form-array-fields/src/index.js"],"names":["React","useEffect","ReactDOM","useForm","App","useState","indexes","setIndexes","counter","setCounter","register","handleSubmit","mode","formState","onSubmit","data","console","log","addFriend","getValues","prevIndexes","prevCounter","removeFriend","index","filter","item","clearFriends","map","fieldName","width","height","isValid","rootElement","document","getElementById","render"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react';\nimport ReactDOM from 'react-dom';\nimport useForm from 'react-hook-form';\n\nimport './styles.css';\n\nfunction App() {\n  const [indexes, setIndexes] = React.useState([]);\n  const [counter, setCounter] = React.useState(0);\n  const { register, handleSubmit } = useForm();\n  const { formState } = useForm({ mode: 'onChange' });\n\n  const onSubmit = data => {\n    console.log(data);\n  };\n  useEffect(() => {\n    addFriend();\n  }, []);\n\n  const addFriend = () => {\n    console.log(formState.getValues);\n    setIndexes(prevIndexes => [...prevIndexes, counter]);\n    setCounter(prevCounter => prevCounter + 1);\n  };\n\n  const removeFriend = index => () => {\n    console.log(indexes());\n    setIndexes(prevIndexes => [...prevIndexes.filter(item => item !== index)]);\n    setCounter(prevCounter => prevCounter - 1);\n  };\n\n  const clearFriends = () => {\n    setIndexes([]);\n  };\n\n  return (\n    <form onSubmit={handleSubmit(onSubmit)}>\n      {indexes.map(index => {\n        const fieldName = `friends[${index}]`;\n        return (\n          <fieldset name={fieldName} key={fieldName}>\n            <label>\n              First Name {index}:{/* <input type=\"text\" name={`${fieldName}.firstName`} ref={register} /> */}\n              <select name={`${fieldName}.firstName`} ref={register} style={{ width: 200, height: 45 }}>\n                <option value=\"\"></option>\n                <option value=\"1\">option 1</option>\n                <option value=\"2\">option 2</option>\n                <option value=\"3\">option 3</option>\n                <option value=\"4\">option 4</option>\n              </select>\n            </label>\n\n            {/* <label>\n              Last Name {index}:\n              <input type=\"text\" name={`${fieldName}.lastName`} ref={register} />\n            </label> */}\n            {/* length {indexes.length-1===index?1:0 } -{index} */}\n            {index !== 0 && (\n              <button type=\"button\" onClick={removeFriend(index)}>\n                Remove Account\n              </button>\n            )}\n          </fieldset>\n        );\n      })}\n\n      <button type=\"button\" onClick={addFriend} disabled={!formState.isValid}>\n        Add Friend\n      </button>\n      {/* <button type=\"button\" onClick={clearFriends}>\n        Clear Friends\n      </button> */}\n      <input type=\"submit\" />\n    </form>\n  );\n}\n\nconst rootElement = document.getElementById('root');\nReactDOM.render(<App />, rootElement);\n"]},"metadata":{},"sourceType":"module"}